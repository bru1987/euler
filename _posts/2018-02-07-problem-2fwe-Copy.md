---
layout: post
title: Project Euler - Problem 2
---
### Problem #2

Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:

1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...

By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.

### Solution

First of all, I'd like to tell you that the fibonnaci series starts at 1 and the second number is 1, because 1+0=1, so a fibonacci series starts like this: [1, 1, 2, 3, 5, 8...]. But let's ignore that for the sake of keeping the original exercise

Brute-forcing:


```python
import time

start = time.time()

# Chamaremos a sequência de três números de a1, a2 e a3 (estes números mudando constantemente)
a1 = 1
a2 = 2
a3 = a1+a2

sum = a2

while a3 < 4000000:
        if a3 % 2 == 0:
            sum += a3
        a1 = a2
        a2 = a3
        a3 = a1+a2

elapsed = time.time() - start

print(sum, elapsed)
```

    4613732 0.0002918243408203125


Aqui uma solução mais elegante: em uma sequência de Fibonacci, a cada três valores, um deles é par.

I know you can say it's kind of cheatting but anyways: Fibonacci series follows a pattern, because to get an even number out of a sum you'll need 2 even or 2 odd numbers(3+3=6, 6 is even; 3+5=8; 2+8=10). Starting at 1 (odd) it follows this pattern: [odd, odd, even, odd, odd, even...].


```python
import numpy as np
import time

start = time.time()

def generate_fib(max_value):
    series = [1, 2]
    while True:
        next_last = series[-1] + series[-2]
        if next_last > max_value:
            break
        series.append(next_last)
    return series

series = generate_fib(40000000)
evens = [series[x] for x in range(1,len(series), 3)]

#print(series)
#print(evens)

elapsed = time.time() - start

print(np.sum(evens), elapsed)
```

    19544084 0.00017380714416503906

