---
layout: post
title: Project Euler - Problem 2
---

### Problem #2

Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:

1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...

By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.

### Solution #1

First of all, the fibonnaci series actually starts at 1 and the second number is also 1. The correct Fibonacci series is 1, 1, 2, 3, 5, 8, 13, 21 and so on. But let's ignore that for the sake of keeping the original exercise untouched.

Using brute force, we can implement the solution shown on [this](https://drive.google.com/file/d/1w72SewUXMZ-fArXdZ6vG1b1EZ8qTqmu7/view?usp=sharing) flowchart.


```python
import time

start = time.time()

# the three numbers of the sequence in a row will be a1, a2 and a3
# let's consider this special type of Fibonacci sequence that starts with 1,2,3,...
a1 = 1
a2 = 2
a3 = a1+a2

# what are we doing here?
sum = a2

while a3 < 4000000:
        if a3 % 2 == 0:
            sum += a3
        a1 = a2
        a2 = a3
        a3 = a1+a2

elapsed = time.time() - start

print(sum, elapsed)
```

    4613732 0.0001461505889892578


### Solution #2

A different, more elegant approach would be to realize that, in a Fibonacci sequence, the even and odd numbers appear on the following fasion:

odd, odd, even, odd, odd, even, odd, odd, even,...

In other words, for each three numbers in the sequence, one of them is even.

Let's not forget, nevertheless, that we do not have a true, legitimate Fibonacci sequence in this problem. We'll consider that fact soon.

So let's implement our solution, shown on [this](www.google.com) flowchart.


```python
import numpy as np
import time

start = time.time()

def generate_fib(max_value):
    series = [1, 2]
    while True:
        next_last = series[-1] + series[-2]
        if next_last > max_value:
            break
        series.append(next_last)
    return series

series = generate_fib(40000000)
evens = [series[x] for x in range(1,len(series), 3)]

#print(series)
#print(evens)

elapsed = time.time() - start

print(np.sum(evens), elapsed)
```

    19544084 0.00017380714416503906


### Comparison of the methods

Our intuition says that the solution_2 will perform better, but let's see if our intuition is correct.

TK transformar as soluções em funções, para facilmente testá-las mudando apenas o valor de entrada